(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{209:function(e,t,s){Promise.resolve().then(s.bind(s,2204))},2204:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=s(7437),a=s(2265),l=s(5234),i=e=>{let{config:t,onConfigUpdate:s}=e,[l,i]=(0,a.useState)(!1),[n,c]=(0,a.useState)(t);return(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-white",children:"Configura\xe7\xf5es"}),l?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>{s(n),i(!1)},className:"px-3 py-1 bg-zinc-800 hover:bg-zinc-700 text-white rounded text-sm transition-colors",children:"Salvar"}),(0,r.jsx)("button",{onClick:()=>{c(t),i(!1)},className:"px-3 py-1 text-zinc-500 hover:text-zinc-300 text-sm transition-colors",children:"Cancelar"})]}):(0,r.jsx)("button",{onClick:()=>{c(t),i(!0)},className:"text-sm text-zinc-400 hover:text-white transition-colors",children:"Editar"})]}),l?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Valor de 1 TC (gold)"}),(0,r.jsx)("input",{type:"number",value:n.tcValue,onChange:e=>c({...n,tcValue:Number(e.target.value)}),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md text-white focus:outline-none focus:border-zinc-600"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Quantidade de TC no pacote"}),(0,r.jsx)("input",{type:"number",value:n.tcAmount,onChange:e=>c({...n,tcAmount:Number(e.target.value)}),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md text-white focus:outline-none focus:border-zinc-600"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Pre\xe7o do pacote (R$)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:n.tcPriceReais,onChange:e=>c({...n,tcPriceReais:Number(e.target.value)}),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md text-white focus:outline-none focus:border-zinc-600"})]})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-1",children:"Valor de 1 TC"}),(0,r.jsxs)("p",{className:"text-xl font-semibold text-white",children:[t.tcValue.toLocaleString("pt-BR")," gold"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-1",children:"Quantidade no pacote"}),(0,r.jsxs)("p",{className:"text-xl font-semibold text-white",children:[t.tcAmount," TC"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-1",children:"Pre\xe7o do pacote"}),(0,r.jsxs)("p",{className:"text-xl font-semibold text-white",children:["R$ ",t.tcPriceReais.toFixed(2)]})]})]})]})},n=s(9883);let c=e=>e>=1e6?"".concat((e/1e6).toFixed(e%1e6==0?0:1),"kk"):e>=1e3?"".concat((e/1e3).toFixed(e%1e3==0?0:1),"k"):e.toString(),o=e=>{let t=e.trim().toLowerCase();return t.endsWith("kk")||t.endsWith("mm")?1e6*parseFloat(t.replace(/[kmKM]+$/,"")):t.endsWith("k")?1e3*parseFloat(t.replace(/[kK]+$/,"")):parseFloat(t)||0};var d=e=>{let{playerId:t,playerName:s,config:l,onSubmit:i}=e,[d,m]=(0,a.useState)(""),[x,u]=(0,a.useState)("2"),h=d?o(d):0,b=x?parseFloat(x):2,p=h/l.tcValue,g=p/l.tcAmount*l.tcPriceReais;return(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!d||!x)return;let r=o(d),a=parseFloat(x),n=r/l.tcValue,c=n/l.tcAmount*l.tcPriceReais;i({playerId:t,playerName:s,loot:r,waste:0,balance:r,tcValue:l.tcValue,tcQuantity:n,reaisValue:c,hours:a,reaisPerHour:c/a}),m(""),u("2")},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Farm (gold)"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md focus:outline-none focus:border-zinc-600 text-white placeholder-zinc-600",placeholder:"Ex: 4500000 ou 4500k ou 4.5kk",required:!0}),d&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-zinc-500",children:["= ",c(h)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Horas farmadas"}),(0,r.jsx)("input",{type:"number",step:"0.5",value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md focus:outline-none focus:border-zinc-600 text-white placeholder-zinc-600",placeholder:"2",required:!0})]})]}),d&&x&&(0,r.jsx)("div",{className:"bg-zinc-900 rounded-md p-4 border border-zinc-800",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Farm"}),(0,r.jsx)("p",{className:"text-sm font-medium text-white",children:c(h)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Em TC"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:[p.toFixed(2)," TC"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Total R$"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:["R$ ",g.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"R$/hora"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-emerald-500",children:["R$ ",(b>0?g/b:0).toFixed(2),"/h"]})]})]})}),(0,r.jsxs)("button",{type:"submit",className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white py-2 px-4 rounded-md font-medium transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"Registrar Farm"]})]})},m=s(8203),x=s(3589),u=s(1138),h=e=>{let{entries:t,config:s,onDeleteEntry:a,onEditEntry:l,playerFilter:i}=e,n=(e,t)=>{let s=new Date(e),r=new Date(s.getTime()-36e5*(t||0)).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),a=s.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),l=s.toLocaleDateString("pt-BR");return"".concat(l," (").concat(r," - ").concat(a,")")};if(0===t.length)return(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(m.Z,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-zinc-400 text-sm",children:"Nenhum farm registrado"})]});let o=t.reduce((e,t)=>({loot:e.loot+(t.loot||t.balance||0),hours:e.hours+(t.hours||0),reais:e.reais+(t.reaisValue||0)}),{loot:0,hours:0,reais:0}),d=o.hours>0?o.reais/o.hours:0;return(0,r.jsxs)("div",{className:"space-y-4",children:[!i&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-lg p-4 border border-zinc-700",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-2 font-medium",children:"Total Farm"}),(0,r.jsx)("p",{className:"text-lg font-bold text-white",children:c(o.loot)})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-lg p-4 border border-zinc-700",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-2 font-medium",children:"Total Horas"}),(0,r.jsxs)("p",{className:"text-lg font-bold text-yellow-400",children:[o.hours.toFixed(1),"h"]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-lg p-4 border border-zinc-700",children:[(0,r.jsx)("p",{className:"text-sm text-zinc-400 mb-2 font-medium",children:"Total R$"}),(0,r.jsxs)("p",{className:"text-lg font-bold text-green-400",children:["R$ ",o.reais.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-emerald-900/20 to-emerald-800/20 rounded-lg p-4 border border-emerald-700/50",children:[(0,r.jsx)("p",{className:"text-sm text-emerald-400 mb-2 font-medium",children:"M\xe9dia R$/h"}),(0,r.jsxs)("p",{className:"text-lg font-bold text-emerald-400",children:["R$ ",d.toFixed(2),"/h"]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto bg-zinc-950 rounded-lg border border-zinc-700 shadow-xl",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-zinc-700 bg-zinc-800/50",children:[(0,r.jsx)("th",{className:"text-left p-3 text-zinc-300 font-semibold",children:"Per\xedodo"}),!i&&(0,r.jsx)("th",{className:"text-left p-3 text-zinc-300 font-semibold",children:"Jogador"}),(0,r.jsx)("th",{className:"text-right p-3 text-zinc-300 font-semibold",children:"Farm"}),(0,r.jsx)("th",{className:"text-right p-3 text-zinc-300 font-semibold",children:"Horas"}),(0,r.jsx)("th",{className:"text-right p-3 text-zinc-300 font-semibold",children:"R$"}),(0,r.jsx)("th",{className:"text-right p-3 text-zinc-300 font-semibold",children:"R$/h"}),(0,r.jsx)("th",{className:"text-center p-3 text-zinc-300 font-semibold",children:"A\xe7\xe3o"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>{let t=e.loot||e.balance||0,s=e.hours&&e.hours>0?(e.reaisValue||0)/e.hours:0;return(0,r.jsxs)("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30 transition-colors",children:[(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("div",{className:"text-white font-medium text-sm",children:n(e.date,e.hours)})}),!i&&(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ".concat("player1"===e.playerId?"bg-blue-900/50 text-blue-400":"bg-purple-900/50 text-purple-400"),children:e.playerName})}),(0,r.jsx)("td",{className:"p-3 text-right",children:(0,r.jsx)("span",{className:"text-white font-semibold text-base",children:c(t)})}),(0,r.jsx)("td",{className:"p-3 text-right",children:(0,r.jsx)("span",{className:"text-yellow-400 font-medium text-base",children:e.hours?"".concat(e.hours,"h"):"-"})}),(0,r.jsx)("td",{className:"p-3 text-right",children:(0,r.jsxs)("span",{className:"text-green-400 font-medium text-base",children:["R$ ",(e.reaisValue||0).toFixed(2)]})}),(0,r.jsx)("td",{className:"p-3 text-right",children:(0,r.jsx)("span",{className:"text-emerald-400 font-bold text-base",children:s>0?"R$ ".concat(s.toFixed(2),"/h"):"-"})}),(0,r.jsx)("td",{className:"p-3 text-center",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[l&&(0,r.jsx)("button",{onClick:()=>l(e),className:"text-zinc-400 hover:text-zinc-300 p-1 rounded hover:bg-zinc-700 transition-all",title:"Editar",children:(0,r.jsx)(x.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>a(e.id),className:"text-red-500 hover:text-red-400 p-1 rounded hover:bg-red-500/10 transition-all",title:"Excluir",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]})},b=s(5790),p=s(6141),g=s(1298);function j(e){let{entries:t,config:s}=e,a=e=>{let s=t.filter(t=>t.playerId===e);if(0===s.length)return{totalFarms:0,totalLoot:0,totalBalance:0,totalReais:0,totalHours:0,avgBalance:0,avgReais:0,avgReaisPerHour:0,bestFarm:0,worstFarm:0};let r=s.reduce((e,t)=>e+(t.loot||t.balance||0),0),a=s.reduce((e,t)=>e+(t.balance||t.loot||0),0),l=s.reduce((e,t)=>e+(t.reaisValue||0),0),i=s.reduce((e,t)=>e+(t.hours||0),0),n=s.map(e=>e.balance||e.loot||0);return{totalFarms:s.length,totalLoot:r,totalBalance:a,totalReais:l,totalHours:i,avgBalance:a/s.length,avgReais:l/s.length,avgReaisPerHour:i>0?l/i:0,bestFarm:Math.max(...n),worstFarm:Math.min(...n)}},i=a("player1"),n=a("player2"),o={totalFarms:i.totalFarms+n.totalFarms,totalLoot:i.totalLoot+n.totalLoot,totalBalance:i.totalBalance+n.totalBalance,totalReais:i.totalReais+n.totalReais,totalHours:i.totalHours+n.totalHours},d=e=>{let{title:t,value:s,icon:a,color:l}=e;return(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-zinc-500 text-sm",children:t}),(0,r.jsx)(a,{className:"w-4 h-4 ".concat(l)})]}),(0,r.jsx)("p",{className:"text-xl font-semibold text-white",children:s})]})};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Estat\xedsticas Gerais"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,r.jsx)(d,{title:"Total de Farms",value:o.totalFarms,icon:l.Z,color:"text-zinc-400"}),(0,r.jsx)(d,{title:"Loot Total",value:c(o.totalLoot),icon:b.Z,color:"text-emerald-600"}),(0,r.jsx)(d,{title:"Balance Total",value:c(o.totalBalance),icon:l.Z,color:"text-zinc-400"}),(0,r.jsx)(d,{title:"Horas Farmadas",value:"".concat(o.totalHours.toFixed(1),"h"),icon:p.Z,color:"text-blue-600"}),(0,r.jsx)(d,{title:"Total em R$",value:"R$ ".concat(o.totalReais.toFixed(2)),icon:g.Z,color:"text-emerald-600"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-400 mb-4",children:"Estat\xedsticas do Imp"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Farms Realizados"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-white",children:i.totalFarms})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Horas Farmadas"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-white",children:[i.totalHours.toFixed(1),"h"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"M\xe9dia R$/h"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-emerald-600",children:["R$ ",i.avgReaisPerHour.toFixed(2),"/h"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Melhor Farm"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-emerald-600",children:c(i.bestFarm)})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Pior Farm"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-red-600",children:c(i.worstFarm)})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-400 mb-4",children:"Estat\xedsticas do Juan"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Farms Realizados"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-white",children:n.totalFarms})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Horas Farmadas"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-white",children:[n.totalHours.toFixed(1),"h"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"M\xe9dia R$/h"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-emerald-600",children:["R$ ",n.avgReaisPerHour.toFixed(2),"/h"]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Melhor Farm"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-emerald-600",children:c(n.bestFarm)})]}),(0,r.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-4 border border-zinc-800",children:[(0,r.jsx)("p",{className:"text-zinc-500 text-sm mb-1",children:"Pior Farm"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-red-600",children:c(n.worstFarm)})]})]})]})]})}var N=s(2549),f=s(4280),v=e=>{let{entry:t,config:s,isOpen:l,onClose:i,onSave:n,onUpdateAllTcValues:d}=e,[m,x]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[b,p]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{if(t){var e,r;x(c(t.loot||t.balance||0)),h((null===(e=t.hours)||void 0===e?void 0:e.toString())||"2"),p((null===(r=t.tcValue)||void 0===r?void 0:r.toString())||s.tcValue.toString()),j(!1)}},[t,s]),!l||!t)return null;let v=m?o(m):0,z=u?parseFloat(u):0,w=b?parseInt(b):s.tcValue,y=v/w,F=y/s.tcAmount*s.tcPriceReais;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 max-w-md w-full mx-4 border border-zinc-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Editar Farm"}),(0,r.jsx)("button",{onClick:i,className:"text-zinc-500 hover:text-zinc-300 transition-colors",children:(0,r.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=o(m),a=parseFloat(u)||0,l=parseInt(b)||s.tcValue,c=r/l,d=c/s.tcAmount*s.tcPriceReais;n({...t,loot:r,balance:r,tcValue:l,tcQuantity:c,reaisValue:d,hours:a,reaisPerHour:a>0?d/a:0}),i()},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Farm (gold)"}),(0,r.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md focus:outline-none focus:border-zinc-600 text-white placeholder-zinc-600",placeholder:"Ex: 4500000 ou 4500k ou 4.5kk",required:!0}),m&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-zinc-500",children:["= ",c(v)]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Horas farmadas"}),(0,r.jsx)("input",{type:"number",step:"0.5",value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md focus:outline-none focus:border-zinc-600 text-white placeholder-zinc-600",placeholder:"2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-zinc-400 mb-2",children:"Valor do TC (gold)"}),(0,r.jsx)("input",{type:"number",value:b,onChange:e=>{var s;p(e.target.value),j(e.target.value!==(null==t?void 0:null===(s=t.tcValue)||void 0===s?void 0:s.toString()))},className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-md focus:outline-none focus:border-zinc-600 text-white placeholder-zinc-600",placeholder:s.tcValue.toString(),required:!0})]})]}),g&&d&&(0,r.jsxs)("div",{className:"bg-blue-950/30 border border-blue-800/50 rounded-md p-3",children:[(0,r.jsxs)("p",{className:"text-xs text-blue-400 mb-2",children:["Valor do TC diferente do original (",null==t?void 0:t.tcValue," gold)"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=parseInt(b)||s.tcValue;d&&(d(e),j(!1),i())},className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-2 px-3 rounded-md text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),"Atualizar TC de todos os registros para ",b," gold"]})]}),m&&u&&(0,r.jsx)("div",{className:"bg-zinc-900 rounded-md p-4 border border-zinc-800",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Em TC"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:[y.toFixed(2)," TC"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Total R$"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:["R$ ",F.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"R$/hora"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-emerald-500",children:["R$ ",(z>0?F/z:0).toFixed(2),"/h"]})]}),(0,r.jsxs)("div",{className:"col-span-3 pt-2 border-t border-zinc-700",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 mb-1",children:"Valor do TC usado"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-yellow-400",children:["1 TC = ",w.toLocaleString("pt-BR")," gold"]})]})]})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Salvar"})]})]})]})})};let z=(0,s(7440).eI)("https://ggfqqxtbdnoazxzoiqya.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdnZnFxeHRiZG5vYXp4em9pcXlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2ODk0NDMsImV4cCI6MjA3MjI2NTQ0M30.Vx9-lZeVs_Etg-9MjkquqGJMlk3bujhBtOb9gayKLi8");function w(){let{config:e,updateConfig:t,loading:s}=function(){let[e,t]=(0,a.useState)({tcValue:38e3,tcPriceReais:57,tcAmount:250}),[s,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{l()},[]);let l=async()=>{try{let{data:e,error:s}=await z.from("config_settings").select("*").single();if(s&&"PGRST116"!==s.code)throw s;e&&t({tcValue:e.tc_value,tcPriceReais:e.tc_price_reais,tcAmount:e.tc_amount})}catch(e){console.error("Error fetching config:",e)}finally{r(!1)}};return{config:e,updateConfig:async e=>{try{let{data:s}=await z.from("config_settings").select("id").single();if(s){let{error:t}=await z.from("config_settings").update({tc_value:e.tcValue,tc_price_reais:e.tcPriceReais,tc_amount:e.tcAmount,updated_at:new Date().toISOString()}).eq("id",s.id);if(t)throw t}else{let{error:t}=await z.from("config_settings").insert({tc_value:e.tcValue,tc_price_reais:e.tcPriceReais,tc_amount:e.tcAmount});if(t)throw t}t(e)}catch(e){console.error("Error updating config:",e)}},loading:s}}(),{entries:n,addEntry:c,updateEntry:o,deleteEntry:m,updateAllTcValues:x,loading:u}=function(e){let[t,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{i()},[]);let i=async()=>{try{let{data:e,error:t}=await z.from("farm_entries").select("*").order("created_at",{ascending:!1});if(t)throw t;if(e){let t=e.map(e=>({id:e.id,playerId:e.player_id,playerName:e.player_name,loot:e.loot_gp,waste:e.waste_gp,balance:e.balance_gp,tcValue:e.tc_value,tcQuantity:parseFloat(e.tc_quantity.toString()),reaisValue:parseFloat(e.reais_value.toString()),hours:e.hours?parseFloat(e.hours.toString()):void 0,reaisPerHour:e.rate_per_hour?parseFloat(e.rate_per_hour.toString()):void 0,date:e.created_at}));s(t)}}catch(e){console.error("Error fetching entries:",e)}finally{l(!1)}};return{entries:t,addEntry:async e=>{try{let{data:t,error:r}=await z.from("farm_entries").insert({player_id:e.playerId,player_name:e.playerName,loot_gp:e.loot,waste_gp:e.waste,balance_gp:e.balance,tc_value:e.tcValue,tc_quantity:e.tcQuantity,reais_value:e.reaisValue,hours:e.hours||0,rate_per_hour:e.reaisPerHour||0}).select().single();if(r)throw r;if(t){let e={id:t.id,playerId:t.player_id,playerName:t.player_name,loot:t.loot_gp,waste:t.waste_gp,balance:t.balance_gp,tcValue:t.tc_value,tcQuantity:parseFloat(t.tc_quantity.toString()),reaisValue:parseFloat(t.reais_value.toString()),hours:t.hours?parseFloat(t.hours.toString()):void 0,reaisPerHour:t.rate_per_hour?parseFloat(t.rate_per_hour.toString()):void 0,date:t.created_at};s(t=>[e,...t])}}catch(e){console.error("Error adding entry:",e)}},updateEntry:async e=>{try{let{error:t}=await z.from("farm_entries").update({loot_gp:e.loot||e.balance||0,waste_gp:e.waste||0,balance_gp:e.balance||e.loot||0,tc_quantity:e.tcQuantity,reais_value:e.reaisValue,hours:e.hours||0,rate_per_hour:e.reaisPerHour||0}).eq("id",e.id);if(t)throw t;s(t=>t.map(t=>t.id===e.id?e:t))}catch(e){console.error("Error updating entry:",e)}},deleteEntry:async e=>{try{let{error:t}=await z.from("farm_entries").delete().eq("id",e);if(t)throw t;s(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting entry:",e)}},updateAllTcValues:async t=>{try{let s=250,r=57;if(e)s=e.tcAmount,r=e.tcPriceReais;else{let{data:e}=await z.from("config_settings").select("*").single();e&&(s=e.tc_amount,r=e.tc_price_reais)}let{data:a,error:l}=await z.from("farm_entries").select("*");if(l)throw l;for(let e of a){let a=e.loot_gp/t,l=a/s*r,i=e.hours>0?l/e.hours:0;await z.from("farm_entries").update({tc_value:t,tc_quantity:a,reais_value:l,rate_per_hour:i}).eq("id",e.id)}await i()}catch(e){console.error("Error updating all TC values:",e)}},loading:r}}(),[b,p]=(0,a.useState)("imp"),[g,N]=(0,a.useState)(null),[f,w]=(0,a.useState)(!1),y=e=>{c(e)},F=e=>{m(e)},_=e=>{N(e),w(!0)},R=e=>n.filter(t=>t.playerId===e);return s||u?(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-zinc-400 text-lg",children:"Carregando..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,r.jsx)("header",{className:"border-b border-zinc-900",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(l.Z,{className:"w-6 h-6 text-zinc-500"}),(0,r.jsx)("h1",{className:"text-xl font-medium text-white",children:"Tibia Farm Calculator"})]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(i,{config:e,onConfigUpdate:e=>{t(e)}})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex justify-center gap-1 bg-zinc-950 rounded-lg p-1 border border-zinc-900",children:[(0,r.jsx)("button",{onClick:()=>p("imp"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("imp"===b?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"),children:"Imp"}),(0,r.jsx)("button",{onClick:()=>p("juan"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("juan"===b?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"),children:"Juan"}),(0,r.jsx)("button",{onClick:()=>p("general"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("general"===b?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"),children:"Hist\xf3rico Geral"}),(0,r.jsx)("button",{onClick:()=>p("stats"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("stats"===b?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"),children:"Estat\xedsticas"})]})}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:["imp"===b&&(()=>{let t=R("player1"),s=t.reduce((e,t)=>({hours:e.hours+(t.hours||0),reais:e.reais+(t.reaisValue||0),farms:e.farms+1}),{hours:0,reais:0,farms:0});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-white",children:"Farm do Imp"}),(0,r.jsx)("p",{className:"text-sm text-zinc-500",children:"Registre seu farm"})]}),(0,r.jsx)(d,{playerId:"player1",playerName:"Imp",config:e,onSubmit:y})]}),(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("h3",{className:"text-md font-medium text-white",children:"\xdaltimos farms"})}),(0,r.jsx)(h,{entries:t.slice(0,5),config:e,onDeleteEntry:F,onEditEntry:_,playerFilter:"player1"})]}),t.length>0&&(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-950/30 via-zinc-900 to-zinc-950 rounded-xl p-6 border border-blue-800/30 shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-600/5 to-transparent"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-blue-400 mb-4 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Resumo Total - Imp"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-blue-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total de Farms"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:s.farms})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-yellow-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total de Horas"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-yellow-400",children:[s.hours.toFixed(1),(0,r.jsx)("span",{className:"text-lg font-normal text-yellow-400/70",children:"h"})]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-green-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total em R$"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[(0,r.jsx)("span",{className:"text-lg font-normal",children:"R$"})," ",s.reais.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-emerald-900/30 to-emerald-950/30 backdrop-blur rounded-lg p-4 border border-emerald-700/50 hover:border-emerald-600/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-emerald-400 uppercase tracking-wider mb-2 font-semibold",children:"M\xe9dia R$/hora"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-emerald-400",children:[(0,r.jsx)("span",{className:"text-lg font-normal",children:"R$"})," ",s.hours>0?(s.reais/s.hours).toFixed(2):"0.00",(0,r.jsx)("span",{className:"text-lg font-normal text-emerald-400/70",children:"/h"})]})]})]})]})]})]})})(),"juan"===b&&(()=>{let t=R("player2"),s=t.reduce((e,t)=>({hours:e.hours+(t.hours||0),reais:e.reais+(t.reaisValue||0),farms:e.farms+1}),{hours:0,reais:0,farms:0});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-white",children:"Farm do Juan"}),(0,r.jsx)("p",{className:"text-sm text-zinc-500",children:"Registre seu farm"})]}),(0,r.jsx)(d,{playerId:"player2",playerName:"Juan",config:e,onSubmit:y})]}),(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("h3",{className:"text-md font-medium text-white",children:"\xdaltimos farms"})}),(0,r.jsx)(h,{entries:t.slice(0,5),config:e,onDeleteEntry:F,onEditEntry:_,playerFilter:"player2"})]}),t.length>0&&(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-950/30 via-zinc-900 to-zinc-950 rounded-xl p-6 border border-purple-800/30 shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/5 to-transparent"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),"Resumo Total - Juan"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-purple-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total de Farms"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:s.farms})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-yellow-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total de Horas"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-yellow-400",children:[s.hours.toFixed(1),(0,r.jsx)("span",{className:"text-lg font-normal text-yellow-400/70",children:"h"})]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur rounded-lg p-4 border border-zinc-800/50 hover:border-green-700/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-2 font-semibold",children:"Total em R$"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[(0,r.jsx)("span",{className:"text-lg font-normal",children:"R$"})," ",s.reais.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-emerald-900/30 to-emerald-950/30 backdrop-blur rounded-lg p-4 border border-emerald-700/50 hover:border-emerald-600/50 transition-all",children:[(0,r.jsx)("p",{className:"text-xs text-emerald-400 uppercase tracking-wider mb-2 font-semibold",children:"M\xe9dia R$/hora"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-emerald-400",children:[(0,r.jsx)("span",{className:"text-lg font-normal",children:"R$"})," ",s.hours>0?(s.reais/s.hours).toFixed(2):"0.00",(0,r.jsx)("span",{className:"text-lg font-normal text-emerald-400/70",children:"/h"})]})]})]})]})]})]})})(),"general"===b&&(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-white",children:"Hist\xf3rico Geral"}),(0,r.jsx)("p",{className:"text-sm text-zinc-500",children:"Todos os farms registrados"})]}),(0,r.jsx)(h,{entries:n,config:e,onDeleteEntry:F,onEditEntry:_})]}),"stats"===b&&(0,r.jsxs)("div",{className:"bg-zinc-950 rounded-lg p-6 border border-zinc-900",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-white",children:"Estat\xedsticas"}),(0,r.jsx)("p",{className:"text-sm text-zinc-500",children:"An\xe1lise dos farms"})]}),(0,r.jsx)(j,{entries:n,config:e})]})]})]}),(0,r.jsx)(v,{entry:g,config:e,isOpen:f,onClose:()=>{w(!1),N(null)},onSave:e=>{o(e),w(!1),N(null)},onUpdateAllTcValues:x})]})}}},function(e){e.O(0,[822,971,938,744],function(){return e(e.s=209)}),_N_E=e.O()}]);